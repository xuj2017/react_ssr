!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=9)}([function(e,t){e.exports=require("react")},function(e,t){e.exports=require("react-router-dom")},function(e,t){e.exports=require("react-redux")},function(e,t){e.exports=require("redux")},function(e,t){e.exports=require("express")},function(e,t){e.exports=require("react-dom/server")},function(e,t){e.exports=require("react-router-config")},function(e,t){e.exports=require("axios")},function(e,t){e.exports=require("redux-thunk")},function(e,t,n){"use strict";n.r(t);var r=n(4),o=n.n(r),a=n(0),i=n.n(a),c=n(5),l=n(1),s=n(2);var u=n(6),p=()=>i.a.createElement("div",null,i.a.createElement(l.Link,{to:"/"},"Home"),i.a.createElement(l.Link,{to:"/Login"},"Login")),d=n(7),m=n.n(d);const f=()=>e=>m.a.get("http://yapi.demo.qunar.com/mock/7663/testApi/listData").then(t=>{let n=t.data.data;e((e=>({type:"change_home_list",list:e}))(n))});class h extends a.Component{getList(){const{list:e}=this.props;return e.map(e=>i.a.createElement("div",{key:e.id},e.id,":",e.title))}render(){return i.a.createElement("div",null,i.a.createElement(p,null),i.a.createElement("div",null,"Home ",this.props.name),this.getList(),i.a.createElement("button",{onClick:()=>{alert("home")}},"click"))}componentDidMount(){this.props.list.length||this.props.getHomeList()}}h.loadData=e=>e.dispatch(f());var g=Object(s.connect)(e=>({list:e.home.newsList,name:e.home.name}),e=>({getHomeList(){e(f())}}))(h),v=[{path:"/",component:g,exact:!0,key:"home",loadData:g.loadData},{path:"/login",component:()=>i.a.createElement("div",null,i.a.createElement(p,null),i.a.createElement("div",null,"Login")),exact:!0,key:"login"}],b=n(3),x=n(8),y=n.n(x);const E={name:"dell",newsList:[]};const O=Object(b.combineReducers)({home:(e=E,t)=>{switch(t.type){case"change_home_list":return{...e,newsList:t.list};default:return e}}}),j=o()();j.use(o.a.static("public")),j.get("*",(e,t)=>{const n=(()=>Object(b.createStore)(O,Object(b.applyMiddleware)(y.a)))(),r=Object(u.matchRoutes)(v,e.path),o=[];r.forEach(e=>{e.route.loadData&&o.push(e.route.loadData(n))}),console.log(o),Promise.all(o).then(()=>{t.send(((e,t,n)=>{return`\n     <!DOCTYPE html>\n     <html lang="en">\n     <head>\n         <meta charset="UTF-8"/>\n         <meta name="viewport" content="width=device-width, initial-scale=1.0"/>\n         <meta http-equiv="X-UA-Compatible" content="ie=edge"/>\n         <title>Document</title>\n     </head>\n     <body>\n        <div id="app">${Object(c.renderToString)(i.a.createElement(s.Provider,{store:e},i.a.createElement(l.StaticRouter,{location:n.path,context:{}},i.a.createElement("div",null,t.map(e=>i.a.createElement(l.Route,e))))))}</div>\n        <script>\n          window.context = {\n            state: ${JSON.stringify(e.getState())}\n          }\n        <\/script>\n     </body>\n     <script src="./index.js"><\/script>\n     </html>\n    `})(n,v,e))})}),j.listen("3004",function(){console.log("server start on http://localhost:3004/")})}]);